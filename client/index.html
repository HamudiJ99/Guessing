<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Multiplayer Word Game</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #111;
        color: #eee;
        text-align: center;
        padding: 40px;
      }
      input {
        padding: 10px;
        font-size: 16px;
      }
      button {
        padding: 10px 16px;
        font-size: 16px;
        margin-left: 5px;
        cursor: pointer;
      }
      #log {
        margin-top: 20px;
        white-space: pre-wrap;
        background: #222;
        padding: 15px;
        border-radius: 6px;
      }
    </style>
  </head>
  <body>
    <h1>üïπÔ∏è Word Guessing Game</h1>

    <input id="guess" placeholder="enter word" />
    <button onclick="sendGuess()">Guess</button>

    <div id="log"></div>

    <script>
      const ws = new WebSocket("ws://localhost:8080");
      const log = document.getElementById("log");

      ws.onmessage = (event) => {
        const data = JSON.parse(event.data);

        if (data.type === "state") {
          log.textContent = "Guesses:\n" + data.game.guesses.join(", ");
        }

        if (data.type === "win") {
          log.textContent =
            "üéâ WINNER!\n" +
            "Correct word: " +
            data.word +
            "\n\nNew game started!";
        }
      };

      function sendGuess() {
        const word = document.getElementById("guess").value;
        if (!word) return;

        ws.send(
          JSON.stringify({
            type: "guess",
            word,
          }),
        );

        document.getElementById("guess").value = "";
      }
    </script>
  </body>
</html>
